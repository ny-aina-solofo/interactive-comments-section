<main class="" id="comments-item-container">
    <mat-card
        appearance="outlined"
        class="!border-none"
    >
        <div class="flex gap-4 p-4 rounded-xl">
            <div
                class="bg-grey-100 rounded-lg px-2 py-3 text-indigo-600 font-semibold"
                id="votes"
            >
                <score [score]="comment_data.score"/>
            </div>
            
            <div class="flex-1 space-y-2" id="comments">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <img
                            [src]="'assets/' + comment_data.user.image.png"
                            [alt]="comment_data.user.username"
                            class="w-8 h-8 rounded-full"
                        />
    
                        <span class="font-semibold text-grey-800">{{comment_data.user.username}} </span>
                        <span class="text-sm font-normal text-grey-500">{{comment_data.createdAt}} </span>
                    </div>
                    <div class="flex flex-row gap-8">
                        <div class="flex gap-2 text-sm font-bold text-pink-400 cursor-pointer">
                            <img
                                src="assets/icon-delete.svg"
                                alt="icon-delete"
                                class="size-4 w-3"
                            />
                            Delete
                        </div>
                        
                        <div class="flex gap-2 text-sm font-bold text-purple-600 cursor-pointer">
                            <img
                                src="assets/icon-edit.svg"
                                alt="icon-edit"
                                class="size-4 "
                            />
                            Edit
                        </div>
                        
                        <div 
                            class="flex gap-2 text-sm font-bold text-purple-600 cursor-pointer" 
                            (click)="handleShowForm()"    
                        >
                            <img
                                src="assets/icon-reply.svg"
                                alt="icon-reply"
                                class="size-4"
                            />
                            Reply
                        </div>
                    </div>
                </div>
    
                <p class="text-grey-500 font-normal leading-relaxed">
                    {{comment_data.content}} 
                </p>
            </div>
        </div>
    </mat-card>
    @if (store.activeReplyIdState() === comment_data.id) {
        <div class="mt-4">
            <app-form [comment_data]="comment_data"/>
        </div>
    }
</main>